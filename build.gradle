plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.4.10'
}

group 'org.thelemistix.kotme'

repositories {
    jcenter()
}

def kotlinVersion = "1.4.10"
def ktor_version = "1.4.1"

dependencies {
    implementation("org.jetbrains.kotlin:kotlin-stdlib")

    runtimeOnly("org.jetbrains.kotlin:kotlin-scripting-jsr223:$kotlinVersion")

    implementation("io.ktor:ktor-server-netty:$ktor_version")
    implementation("io.ktor:ktor-html-builder:$ktor_version")

    implementation("org.slf4j:slf4j-simple:1.7.30")
}

jar {
    manifest {
        attributes(
                'Main-Class': 'org.thelemistix.kotme.Main'
        )
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}
